<!-- Code Generated by Sidekick is for learning and experimentation purposes only. -->
<section class="banner-section">
  <div class="container">
    <div class="banner-content text-center">
      <h1 class="banner-title">Cart</h1>
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb justify-content-center">
          <li class="breadcrumb-item">
            <a routerLink="/" class="text-white text-decoration-none">Home</a>
          </li>
          <li class="breadcrumb-item active" aria-current="page">
            Cart
          </li>
        </ol>
      </nav>
    </div>
  </div>
</section>

<!-- Cart Content -->
<section class="py-5">
  <div class="container" *ngIf="items.length > 0; else emptyCart">
    <div class="row">
      <!-- Cart Items Table -->
      <div class="col-lg-8">
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th>PRODUCT</th>
                <th>QUANTITY</th>
                <th>SUBTOTAL</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of items">
                <td>
                  <div class="d-flex align-items-center">
                    <img [src]="item.image" [alt]="item.name" class="me-3"
                         style="width:80px;height:80px;object-fit:cover;" />
                    <div>
                      <h6 class="mb-1">{{ item.name }}</h6>
                      <p class="text-muted mb-0">${{ item.price.toFixed(2) }}</p>
                    </div>
                  </div>
                </td>
                <td>
                  <div class="d-flex align-items-center">
                    <button class="btn btn-outline-secondary btn-sm"
                      (click)="updateQuantity(item.id, item.qty - 1)">
                      -
                    </button>
                    <input
                      type="number"
                      class="form-control text-center mx-2"
                      [(ngModel)]="item.qty"
                      (ngModelChange)="updateQuantity(item.id, item.qty)"
                      style="width:60px"
                      min="1"
                    />
                    <button class="btn btn-outline-secondary btn-sm"
                      (click)="updateQuantity(item.id, item.qty + 1)">
                      +
                    </button>
                  </div>
                </td>
                <td>
                  <strong>${{ (item.price * item.qty).toFixed(2) }}</strong>
                </td>
                <td>
                  <button class="btn btn-outline-danger btn-sm"
                    (click)="removeFromCart(item.id)">
                    <i class="fas fa-trash"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <!-- Cart Total -->
      <div class="col-lg-4">
        <div class="card">
          <div class="card-header">
            <h5 class="mb-0">Cart Total</h5>
          </div>
          <div class="card-body">
            <div class="d-flex justify-content-between mb-3">
              <span>SUBTOTAL</span>
              <span>${{ getTotalPrice().toFixed(2) }}</span>
            </div>
            <hr />
            <div class="d-flex justify-content-between mb-4">
              <strong>TOTAL</strong>
              <strong>${{ getTotalPrice().toFixed(2) }}</strong>
            </div>
            <div class="d-grid gap-2">
              <button type="button"
                class="btn btn-outline-secondary"
                routerLink="/shop">
                CONTINUE SHOPPING
              </button>
              <button type="button"
                class="btn btn-primary-custom"
                (click)="checkout()">
                CHECKOUT
              </button>
              <button type="button"
                class="btn btn-outline-danger"
                (click)="clearCart()">
                CLEAR CART
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Empty cart fallback UI -->
  <ng-template #emptyCart>
    <div class="text-center">
      <h2 class="mb-4">Your cart is empty</h2>
      <p class="text-muted mb-4">
        Looks like you haven't added any items to your cart yet.
      </p>
      <button type="button" class="btn btn-primary-custom" routerLink="/shop">
        Continue Shopping
      </button>
    </div>
  </ng-template>
</section>
